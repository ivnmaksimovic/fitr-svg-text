(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(t,e,i){"use strict";var n=i(4),r=i.n(n),a=i(5),s=i.n(a),o=i(8),d=i.n(o),h=i(9),c=i.n(h),p=i(10),x=i.n(p),u=i(16),m=i.n(u),l=i(0),g=i.n(l),w=i(1),f=i.n(w),v=function(t){function e(t){var i;return r()(this,e),(i=d()(this,c()(e).call(this,t))).state={x:i.props.x,y:i.props.y,viewBox:void 0,width:i.props.width},i.fitSvg=i.fitSvg.bind(m()(m()(i))),i}return x()(e,t),s()(e,[{key:"componentDidMount",value:function(){var t=this;this.setState(function(){return t.getNewDimensions()})}},{key:"componentDidUpdate",value:function(t){var e=this;this.props.text!==t.text&&this.setState(function(){return e.getNewDimensions()})}},{key:"getNewDimensions",value:function(){var t=this.text.getBBox().width,e=this.text.getBBox().height;return this.fitSvg(t,e,this.props.width,this.props.maxHeight)}},{key:"fitSvg",value:function(t,e,i,n){var r=i*e/t;r>n&&(i=(r=n)*t/e);var a=(this.props.parentSvgHeight-r)/2,s=0,o=this.props.x;return"middle"===this.props.textAnchor&&(s=-t/2,o=this.props.x-i/2),"end"===this.props.textAnchor&&(s=-t,o=this.props.x-i),{viewBox:"".concat(s,", 0, ").concat(t,", ").concat(e),x:o,y:this.props.y-a,width:i}}},{key:"render",value:function(){var t=this;return g.a.createElement("svg",{ref:function(e){return t.positioner=e},width:this.state.width,x:this.state.x,y:this.state.y},g.a.createElement("svg",{viewBox:this.state.viewBox},g.a.createElement("text",{className:this.props.textClassName,ref:function(e){return t.text=e},style:{textAnchor:this.props.textAnchor}},this.props.text)))}}]),e}(l.Component);v.propTypes={textClassName:f.a.string,text:f.a.string.isRequired,textAnchor:f.a.oneOf(["start","middle","end"]),x:f.a.number.isRequired,y:f.a.number.isRequired,width:f.a.number.isRequired,maxHeight:f.a.number.isRequired,parentSvgHeight:f.a.number.isRequired},v.displayName="FitrSvgText",e.a=v,v.__docgenInfo={description:"Scales text to fit it's container by setting it's viewbox to it's dimensions and\nthan do small position adjustments",methods:[{name:"getNewDimensions",docblock:null,modifiers:[],params:[],returns:null},{name:"fitSvg",docblock:"Sets default text width and height as viewbox so text proportions can be kept, while\nreseting viewbox to be exactly same as current text size.\nIt also sets y coord because text gets verticaly aligned after reseting viewbox. Why?\n@param {number} textWidth text width with default font size and viewbox\n@param {number} textHeight text height with default font size and viewbox\n@param {number} width wanted textWidth set in props\n@param {number} maxHeight wanted max height set in props when name is for example few chars",modifiers:[],params:[{name:"textWidth",description:"text width with default font size and viewbox",type:{name:"number"},optional:!1},{name:"textHeight",description:"text height with default font size and viewbox",type:{name:"number"},optional:!1},{name:"width",description:"wanted textWidth set in props",type:{name:"number"},optional:!1},{name:"maxHeight",description:"wanted max height set in props when name is for example few chars",type:{name:"number"},optional:!1}],returns:null,description:"Sets default text width and height as viewbox so text proportions can be kept, while\nreseting viewbox to be exactly same as current text size.\nIt also sets y coord because text gets verticaly aligned after reseting viewbox. Why?"}],displayName:"FitrSvgText",props:{textClassName:{type:{name:"string"},required:!1,description:""},text:{type:{name:"string"},required:!0,description:""},textAnchor:{type:{name:"enum",value:[{value:"'start'",computed:!1},{value:"'middle'",computed:!1},{value:"'end'",computed:!1}]},required:!1,description:""},x:{type:{name:"number"},required:!0,description:""},y:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!0,description:""},parentSvgHeight:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.js"]={name:"FitrSvgText",docgenInfo:v.__docgenInfo,path:"src/index.js"})},561:function(t,e,i){i(220),i(562),t.exports=i(563)},563:function(t,e,i){"use strict";i.r(e),function(t){var e=i(219);Object(e.configure)(function(){i(576)},t)}.call(this,i(317)(t))},576:function(t,e,i){"use strict";i.r(e),function(t){var e=i(0),n=i.n(e),r=i(219),a=i(560),s=i(492),o=i(132),d={wrapper:{margin:"10px auto",width:"400px"},svg:{display:"block",width:"100%",outline:"4px solid red"}};Object(r.storiesOf)("FitrSvgText",t).addDecorator(function(t){return n.a.createElement("div",{className:"wrapper",style:d.wrapper},n.a.createElement("svg",{viewBox:"0 0 400 200",style:d.svg},t(),n.a.createElement("rect",{width:"200",height:"2",x:"100",y:"50",fill:"red"}),n.a.createElement("rect",{width:"200",height:"2",x:"100",y:"100",fill:"red"}),n.a.createElement("rect",{width:"200",height:"2",x:"100",y:"150",fill:"red"})))}).addDecorator(a.withInfo).addDecorator(s.withKnobs).add("limit width and height no matter how many characters",function(){return n.a.createElement(o.a,{text:Object(s.text)("Text","Edit this text in Knobs tab and it will still fit!"),width:200,maxHeight:80,x:200,y:100,parentSvgHeight:200,textAnchor:"middle"})},{info:"Text should addapt it's size to fit in 200 x 80 regardles of number of characters"}).add("limit width when a bit less characters",function(){return n.a.createElement(o.a,{text:"Also fit here",width:200,maxHeight:80,x:200,y:100,parentSvgHeight:200,textAnchor:"middle"})}).add("limit height with text-anchor=middle",function(){return n.a.createElement(o.a,{text:"Yo!",width:200,maxHeight:80,x:200,y:100,parentSvgHeight:200,textAnchor:"middle"})},{info:"Text should never be taller than 80 regardles of number of characters"}).add("limit height with text-anchor=start",function(){return n.a.createElement(o.a,{text:"Yo!",width:200,maxHeight:80,x:100,y:100,parentSvgHeight:200,textAnchor:"start"})}).add("limit height with text-anchor=end",function(){return n.a.createElement(o.a,{text:"Yo!",width:200,maxHeight:80,x:300,y:100,parentSvgHeight:200,textAnchor:"end"})}).add("adds class to text tag",function(){return n.a.createElement(o.a,{textClassName:"class-1 class-2",text:"Yo!",width:200,maxHeight:80,x:300,y:100,parentSvgHeight:200,textAnchor:"end"})})}.call(this,i(317)(t))},579:function(t,e,i){var n={"./nestedObjectAssign":497,"./nestedObjectAssign.js":497};function r(t){var e=a(t);return i(e)}function a(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id=579}},[[561,3,2]]]);
//# sourceMappingURL=iframe.cc4877e072b34473b12d.bundle.js.map