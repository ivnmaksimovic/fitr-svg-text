(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{321:function(module,exports,__webpack_require__){__webpack_require__(322),__webpack_require__(419),module.exports=__webpack_require__(420)},420:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(142);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){__webpack_require__(570)},module)}.call(this,__webpack_require__(157)(module))},570:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(142),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(311),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(203),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72),styles={wrapper:{margin:"10px auto",width:"400px"},svg:{display:"block",width:"100%",outline:"4px solid red"}},_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect",{width:"200",height:"2",x:"100",y:"50",fill:"red"}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect",{width:"200",height:"2",x:"100",y:"100",fill:"red"}),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect",{width:"200",height:"2",x:"100",y:"150",fill:"red"}),SVGDecorator=function(storyFn){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wrapper",style:styles.wrapper},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",{viewBox:"0 0 400 200",style:styles.svg},storyFn(),_ref,_ref2,_ref3))};SVGDecorator.displayName="SVGDecorator";var stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("FitrSvgText",module),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{text:"Also fit here",width:200,maxHeight:80,x:200,y:100,textAnchor:"middle"}),_ref5=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{text:"Yo!",width:200,maxHeight:80,x:200,y:100,textAnchor:"middle"}),_ref6=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{text:"Yo!",width:200,maxHeight:80,x:100,y:100,textAnchor:"start"}),_ref7=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{text:"Yo!",width:200,maxHeight:80,x:300,y:100,textAnchor:"end"}),_ref8=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{textClassName:"class-1 class-2",text:"Yo!",width:200,maxHeight:80,x:300,y:100,textAnchor:"end"});stories.addDecorator(SVGDecorator).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__.withInfo).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs).add("limit width and height no matter how many characters",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{text:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Text","Edit this text in Knobs tab and it will still fit!"),width:200,maxHeight:80,x:200,y:100,textAnchor:"middle"})},{info:"Text should addapt it's size to fit in 200 x 80 regardles of number of characters"}).add("limit width when a bit less characters",function(){return _ref4}).add("limit height with text-anchor=middle",function(){return _ref5},{info:"Text should never be taller than 80 regardles of number of characters"}).add("limit height with text-anchor=start",function(){return _ref6}).add("limit height with text-anchor=end",function(){return _ref7}).add("adds class to text tag",function(){return _ref8})}.call(this,__webpack_require__(157)(module))},573:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":274,"./nestedObjectAssign.js":274};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=573},72:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(14),__webpack_require__(22),__webpack_require__(30),__webpack_require__(15),__webpack_require__(271),__webpack_require__(69),__webpack_require__(1),__webpack_require__(70),__webpack_require__(71),__webpack_require__(11),__webpack_require__(16),__webpack_require__(17);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var FitrSvgText=function(_Component){function FitrSvgText(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FitrSvgText),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(FitrSvgText).call(this,props))).state={x:_this.props.x,y:_this.props.y,viewBox:void 0,width:_this.props.width},_this.fitSvg=_this.fitSvg.bind(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FitrSvgText,react__WEBPACK_IMPORTED_MODULE_13__["Component"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FitrSvgText,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.setState(function(){return _this2.getNewDimensions()})}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this3=this;this.props.text!==prevProps.text&&this.setState(function(){return _this3.getNewDimensions()})}},{key:"getNewDimensions",value:function getNewDimensions(){var textWidth=this.text.getBBox().width,textHeight=this.text.getBBox().height;return this.parentSvg=this.positioner.parentNode.closest("svg"),this.parentSvgHeight=this.positioner.parentNode.closest("svg").getBoundingClientRect().height,this.fitSvg(textWidth,textHeight,this.props.width,this.props.maxHeight,this.parentSvgHeight)}},{key:"fitSvg",value:function fitSvg(textWidth,textHeight,width,maxHeight,parentSvgHeight){var height=width*textHeight/textWidth;height>maxHeight&&(width=(height=maxHeight)*textWidth/textHeight);var topOffset=(parentSvgHeight-height)/2,viewBoxX=0,x=this.props.x;return"middle"===this.props.textAnchor&&(viewBoxX=-textWidth/2,x=this.props.x-width/2),"end"===this.props.textAnchor&&(viewBoxX=-textWidth,x=this.props.x-width),{viewBox:"".concat(viewBoxX,", 0, ").concat(textWidth,", ").concat(textHeight),x:x,y:this.props.y-topOffset,width:width}}},{key:"render",value:function render(){var _this4=this;return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("svg",{ref:function ref(node){return _this4.positioner=node},width:this.state.width,x:this.state.x,y:this.state.y},react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("svg",{viewBox:this.state.viewBox},react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("text",{className:this.props.textClassName,ref:function ref(node){return _this4.text=node},style:{textAnchor:this.props.textAnchor}},this.props.text)))}}]),FitrSvgText}();FitrSvgText.displayName="FitrSvgText",FitrSvgText.propTypes={textClassName:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.string,text:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.string.isRequired,textAnchor:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.oneOf(["start","middle","end"]),x:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.number.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.number.isRequired,width:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.number.isRequired,maxHeight:prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.number.isRequired},FitrSvgText.displayName="FitrSvgText",__webpack_exports__.a=FitrSvgText,FitrSvgText.__docgenInfo={description:"Scales text to fit it's container by setting it's viewbox to it's dimensions and\nthan do small position adjustments",methods:[{name:"getNewDimensions",docblock:null,modifiers:[],params:[],returns:null},{name:"fitSvg",docblock:"Sets default text width and height as viewbox so text proportions can be kept, while\nreseting viewbox to be exactly same as current text size.\nIt also sets y coord because text gets verticaly aligned after reseting viewbox. Why?\n@param {number} textWidth text width with default font size and viewbox\n@param {number} textHeight text height with default font size and viewbox\n@param {number} width wanted textWidth set in props\n@param {number} maxHeight wanted max height set in props when name is for example few chars\n@param {number} parentSvgHeight height of svg container, where FitrSvgText is rendered",modifiers:[],params:[{name:"textWidth",description:"text width with default font size and viewbox",type:{name:"number"},optional:!1},{name:"textHeight",description:"text height with default font size and viewbox",type:{name:"number"},optional:!1},{name:"width",description:"wanted textWidth set in props",type:{name:"number"},optional:!1},{name:"maxHeight",description:"wanted max height set in props when name is for example few chars",type:{name:"number"},optional:!1},{name:"parentSvgHeight",description:"height of svg container, where FitrSvgText is rendered",type:{name:"number"},optional:!1}],returns:null,description:"Sets default text width and height as viewbox so text proportions can be kept, while\nreseting viewbox to be exactly same as current text size.\nIt also sets y coord because text gets verticaly aligned after reseting viewbox. Why?"}],displayName:"FitrSvgText",props:{textClassName:{type:{name:"string"},required:!1,description:""},text:{type:{name:"string"},required:!0,description:""},textAnchor:{type:{name:"enum",value:[{value:"'start'",computed:!1},{value:"'middle'",computed:!1},{value:"'end'",computed:!1}]},required:!1,description:""},x:{type:{name:"number"},required:!0,description:""},y:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.js"]={name:"FitrSvgText",docgenInfo:FitrSvgText.__docgenInfo,path:"src/index.js"})}},[[321,1,2]]]);
//# sourceMappingURL=main.808f4f251facfec7ef3b.bundle.js.map